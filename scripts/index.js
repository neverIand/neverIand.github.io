import{fetchData}from"/scripts/fetchData.js";import{getTheme}from"/scripts/theme.js";import"/webcomponents/ArticleComponent/ArticleComponent.js";function initHomePage(){console.info("Hello World"),initArticleList(),initArticleList("misc"),highlightBanner()}async function initArticleList(t){if("misc"===t){const t=await fetchData("/articles/misc/data/misc.json");t&&renderArticleList("misc-list",t)}else{const t=await fetchData("/articles/new/data/new.json");t&&renderArticleList("article-list",t)}}function renderArticleList(t,e){const a=document.getElementById(t);a?e.sort(((t,e)=>compareDate(t.lastUpdate||t.date,e.lastUpdate||e.date))).forEach((t=>{const e=document.createElement("berry-article");e.setAttribute("data-title",t.title),e.setAttribute("data-url",t.filename),e.setAttribute("data-subheading",t.subheading),e.setAttribute("data-date",t.date),t.lastUpdate&&e.setAttribute("data-lastupdate",t.lastUpdate),e.setAttribute("data-theme",getTheme()),a.appendChild(e)})):console.error("Element not found:",t)}function compareDate(t,e){return new Date(e)-new Date(t)}function highlightBanner(){const t=document.getElementById("banner").querySelectorAll("berry-logo");let e=0;t.length>0&&setInterval((()=>{t.forEach((t=>{t.setAttribute("muted",!0)})),t[e].setAttribute("muted",!1),e++,e===t.length&&(e=0)}),1e3)}document.addEventListener("DOMContentLoaded",initHomePage);